{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import logo from'./nillionimage.svg';// Adjust this path as necessary\nimport\"../App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Main=()=>{const[items,setItems]=useState([]);const[inputValue,setInputValue]=useState('');const[classification,setClassification]=useState('');useEffect(()=>{const storedItems=localStorage.getItem('items');if(storedItems){setItems(JSON.parse(storedItems));}},[]);useEffect(()=>{localStorage.setItem('items',JSON.stringify(items));},[items]);const handleInputChange=e=>setInputValue(e.target.value);const handleSubmit=async e=>{e.preventDefault();if(inputValue.trim()){try{const response=await axios.post(\"http://127.0.0.1:8000/classify-email/\",{content:inputValue});const result=response.data.classification;setItems(prevItems=>[...prevItems,`${inputValue} - ${result}`]);setClassification(result);}catch(error){console.error(\"Error calling API:\",error);setClassification(\"Error fetching classification\");}setInputValue('');}};const clearHistory=()=>setItems([]);const deleteItem=index=>setItems(prevItems=>prevItems.filter((_,i)=>i!==index));return/*#__PURE__*/_jsxs(\"div\",{className:\"flex min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"aside\",{className:\"w-64 p-4 bg-white shadow-md border-r border-gray-200 fixed h-full\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-700 mb-4\",children:\"Search History\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",children:items.length>0?items.map((item,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex justify-between items-center p-2 bg-gray-100 rounded-md hover:bg-indigo-100 transition\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"truncate\",title:item,children:item}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteItem(index),className:\"text-red-500 hover:text-red-700\",children:\"\\xD7\"})]},index)):/*#__PURE__*/_jsx(\"li\",{className:\"text-gray-400\",children:\"No search history available.\"})}),items.length>0&&/*#__PURE__*/_jsx(\"button\",{onClick:clearHistory,className:\"mt-6 w-full bg-red-500 text-white py-2 rounded-md hover:bg-red-600 transition-all\",children:\"Clear History\"})]}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-grow ml-64 flex items-center justify-center p-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-3xl min-h-[500px] bg-white rounded-lg shadow-lg p-10 flex flex-col items-center text-center\",children:[\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mb-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Nillion Logo\",className:\"w-12 h-12\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-indigo-700 tracking-wide\",children:\"MailGuard AI\"}),\" \"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-600 mb-8\",children:\"Powered by Nillion\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"flex items-center mb-6 w-full\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"flex-grow p-3 border border-gray-300 rounded-l-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-400\",placeholder:\"Ask me anything...\",value:inputValue,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-indigo-600 text-white px-4 py-2 rounded-r-md hover:bg-indigo-700 transition-all\",children:\"Search\"})]}),classification&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg text-gray-600 mb-4\",children:[\"Classification: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:classification})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-4\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"text-indigo-600 hover:underline\",children:\"Help Center\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"text-indigo-600 hover:underline\",children:\"Contact Support\"})]})]})})]});};export default Main;","map":{"version":3,"names":["React","useEffect","useState","axios","logo","jsx","_jsx","jsxs","_jsxs","Main","items","setItems","inputValue","setInputValue","classification","setClassification","storedItems","localStorage","getItem","JSON","parse","setItem","stringify","handleInputChange","e","target","value","handleSubmit","preventDefault","trim","response","post","content","result","data","prevItems","error","console","clearHistory","deleteItem","index","filter","_","i","className","children","length","map","item","title","onClick","src","alt","onSubmit","type","placeholder","onChange","href"],"sources":["C:/Users/visha/nillion-email/frontend/src/components/Main.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport logo from './nillionimage.svg'; // Adjust this path as necessary\r\nimport \"../App.css\";\r\n\r\nconst Main = () => {\r\n    const [items, setItems] = useState([]);\r\n    const [inputValue, setInputValue] = useState('');\r\n    const [classification, setClassification] = useState('');\r\n\r\n    useEffect(() => {\r\n        const storedItems = localStorage.getItem('items');\r\n        if (storedItems) {\r\n            setItems(JSON.parse(storedItems));\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('items', JSON.stringify(items));\r\n    }, [items]);\r\n\r\n    const handleInputChange = (e) => setInputValue(e.target.value);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (inputValue.trim()) {\r\n            try {\r\n                const response = await axios.post(\"http://127.0.0.1:8000/classify-email/\", {\r\n                    content: inputValue\r\n                });\r\n                const result = response.data.classification;\r\n                setItems((prevItems) => [...prevItems, `${inputValue} - ${result}`]);\r\n                setClassification(result);\r\n            } catch (error) {\r\n                console.error(\"Error calling API:\", error);\r\n                setClassification(\"Error fetching classification\");\r\n            }\r\n            setInputValue('');\r\n        }\r\n    };\r\n\r\n    const clearHistory = () => setItems([]);\r\n    const deleteItem = (index) => setItems((prevItems) => prevItems.filter((_, i) => i !== index));\r\n\r\n    return (\r\n        <div className=\"flex min-h-screen bg-gray-50\">\r\n            <aside className=\"w-64 p-4 bg-white shadow-md border-r border-gray-200 fixed h-full\">\r\n                <h2 className=\"text-xl font-bold text-gray-700 mb-4\">Search History</h2>\r\n                <ul className=\"space-y-2\">\r\n                    {items.length > 0 ? (\r\n                        items.map((item, index) => (\r\n                            <li key={index} className=\"flex justify-between items-center p-2 bg-gray-100 rounded-md hover:bg-indigo-100 transition\">\r\n                                <span className=\"truncate\" title={item}>{item}</span>\r\n                                <button onClick={() => deleteItem(index)} className=\"text-red-500 hover:text-red-700\">&times;</button>\r\n                            </li>\r\n                        ))\r\n                    ) : (\r\n                        <li className=\"text-gray-400\">No search history available.</li>\r\n                    )}\r\n                </ul>\r\n                {items.length > 0 && (\r\n                    <button \r\n                        onClick={clearHistory} \r\n                        className=\"mt-6 w-full bg-red-500 text-white py-2 rounded-md hover:bg-red-600 transition-all\"\r\n                    >\r\n                        Clear History\r\n                    </button>\r\n                )}\r\n            </aside>\r\n\r\n            <main className=\"flex-grow ml-64 flex items-center justify-center p-8\">\r\n                <div className=\"w-full max-w-3xl min-h-[500px] bg-white rounded-lg shadow-lg p-10 flex flex-col items-center text-center\"> {/* Adjusted alignment */}\r\n                    <div className=\"flex items-center space-x-4 mb-4\">\r\n                        <img src={logo} alt=\"Nillion Logo\" className=\"w-12 h-12\" />\r\n                        <h1 className=\"text-4xl font-bold text-indigo-700 tracking-wide\">MailGuard AI</h1> {/* Centering title */}\r\n                    </div>\r\n                    <p className=\"text-lg text-gray-600 mb-8\">Powered by Nillion</p>\r\n\r\n                    <form className=\"flex items-center mb-6 w-full\" onSubmit={handleSubmit}>\r\n                        <input \r\n                            type=\"text\" \r\n                            className=\"flex-grow p-3 border border-gray-300 rounded-l-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-400\" \r\n                            placeholder=\"Ask me anything...\"\r\n                            value={inputValue}\r\n                            onChange={handleInputChange}\r\n                        />\r\n                        <button \r\n                            type=\"submit\" \r\n                            className=\"bg-indigo-600 text-white px-4 py-2 rounded-r-md hover:bg-indigo-700 transition-all\"\r\n                        >\r\n                            Search\r\n                        </button>\r\n                    </form>\r\n\r\n                    {classification && (\r\n                        <p className=\"text-lg text-gray-600 mb-4\">\r\n                            Classification: <span className=\"font-bold\">{classification}</span>\r\n                        </p>\r\n                    )}\r\n\r\n                    <div className=\"flex justify-center space-x-4\">\r\n                        <a href=\"#\" className=\"text-indigo-600 hover:underline\">Help Center</a>\r\n                        <a href=\"#\" className=\"text-indigo-600 hover:underline\">Contact Support</a>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Main;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,IAAI,KAAM,oBAAoB,CAAE;AACvC,MAAO,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpB,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACf,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACU,UAAU,CAAEC,aAAa,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACY,cAAc,CAAEC,iBAAiB,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAExDD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAe,WAAW,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACjD,GAAIF,WAAW,CAAE,CACbL,QAAQ,CAACQ,IAAI,CAACC,KAAK,CAACJ,WAAW,CAAC,CAAC,CACrC,CACJ,CAAC,CAAE,EAAE,CAAC,CAENf,SAAS,CAAC,IAAM,CACZgB,YAAY,CAACI,OAAO,CAAC,OAAO,CAAEF,IAAI,CAACG,SAAS,CAACZ,KAAK,CAAC,CAAC,CACxD,CAAC,CAAE,CAACA,KAAK,CAAC,CAAC,CAEX,KAAM,CAAAa,iBAAiB,CAAIC,CAAC,EAAKX,aAAa,CAACW,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAE9D,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAH,CAAC,EAAK,CAC9BA,CAAC,CAACI,cAAc,CAAC,CAAC,CAClB,GAAIhB,UAAU,CAACiB,IAAI,CAAC,CAAC,CAAE,CACnB,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAA3B,KAAK,CAAC4B,IAAI,CAAC,uCAAuC,CAAE,CACvEC,OAAO,CAAEpB,UACb,CAAC,CAAC,CACF,KAAM,CAAAqB,MAAM,CAAGH,QAAQ,CAACI,IAAI,CAACpB,cAAc,CAC3CH,QAAQ,CAAEwB,SAAS,EAAK,CAAC,GAAGA,SAAS,CAAE,GAAGvB,UAAU,MAAMqB,MAAM,EAAE,CAAC,CAAC,CACpElB,iBAAiB,CAACkB,MAAM,CAAC,CAC7B,CAAE,MAAOG,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAAC,CAC1CrB,iBAAiB,CAAC,+BAA+B,CAAC,CACtD,CACAF,aAAa,CAAC,EAAE,CAAC,CACrB,CACJ,CAAC,CAED,KAAM,CAAAyB,YAAY,CAAGA,CAAA,GAAM3B,QAAQ,CAAC,EAAE,CAAC,CACvC,KAAM,CAAA4B,UAAU,CAAIC,KAAK,EAAK7B,QAAQ,CAAEwB,SAAS,EAAKA,SAAS,CAACM,MAAM,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKA,CAAC,GAAKH,KAAK,CAAC,CAAC,CAE9F,mBACIhC,KAAA,QAAKoC,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eACzCrC,KAAA,UAAOoC,SAAS,CAAC,mEAAmE,CAAAC,QAAA,eAChFvC,IAAA,OAAIsC,SAAS,CAAC,sCAAsC,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,cACxEvC,IAAA,OAAIsC,SAAS,CAAC,WAAW,CAAAC,QAAA,CACpBnC,KAAK,CAACoC,MAAM,CAAG,CAAC,CACbpC,KAAK,CAACqC,GAAG,CAAC,CAACC,IAAI,CAAER,KAAK,gBAClBhC,KAAA,OAAgBoC,SAAS,CAAC,6FAA6F,CAAAC,QAAA,eACnHvC,IAAA,SAAMsC,SAAS,CAAC,UAAU,CAACK,KAAK,CAAED,IAAK,CAAAH,QAAA,CAAEG,IAAI,CAAO,CAAC,cACrD1C,IAAA,WAAQ4C,OAAO,CAAEA,CAAA,GAAMX,UAAU,CAACC,KAAK,CAAE,CAACI,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAC,MAAO,CAAQ,CAAC,GAFjGL,KAGL,CACP,CAAC,cAEFlC,IAAA,OAAIsC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,8BAA4B,CAAI,CACjE,CACD,CAAC,CACJnC,KAAK,CAACoC,MAAM,CAAG,CAAC,eACbxC,IAAA,WACI4C,OAAO,CAAEZ,YAAa,CACtBM,SAAS,CAAC,mFAAmF,CAAAC,QAAA,CAChG,eAED,CAAQ,CACX,EACE,CAAC,cAERvC,IAAA,SAAMsC,SAAS,CAAC,sDAAsD,CAAAC,QAAA,cAClErC,KAAA,QAAKoC,SAAS,CAAC,0GAA0G,CAAAC,QAAA,EAAC,GAAC,cACvHrC,KAAA,QAAKoC,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC7CvC,IAAA,QAAK6C,GAAG,CAAE/C,IAAK,CAACgD,GAAG,CAAC,cAAc,CAACR,SAAS,CAAC,WAAW,CAAE,CAAC,cAC3DtC,IAAA,OAAIsC,SAAS,CAAC,kDAAkD,CAAAC,QAAA,CAAC,cAAY,CAAI,CAAC,IAAC,EAClF,CAAC,cACNvC,IAAA,MAAGsC,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,oBAAkB,CAAG,CAAC,cAEhErC,KAAA,SAAMoC,SAAS,CAAC,+BAA+B,CAACS,QAAQ,CAAE1B,YAAa,CAAAkB,QAAA,eACnEvC,IAAA,UACIgD,IAAI,CAAC,MAAM,CACXV,SAAS,CAAC,mHAAmH,CAC7HW,WAAW,CAAC,oBAAoB,CAChC7B,KAAK,CAAEd,UAAW,CAClB4C,QAAQ,CAAEjC,iBAAkB,CAC/B,CAAC,cACFjB,IAAA,WACIgD,IAAI,CAAC,QAAQ,CACbV,SAAS,CAAC,oFAAoF,CAAAC,QAAA,CACjG,QAED,CAAQ,CAAC,EACP,CAAC,CAEN/B,cAAc,eACXN,KAAA,MAAGoC,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EAAC,kBACtB,cAAAvC,IAAA,SAAMsC,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAE/B,cAAc,CAAO,CAAC,EACpE,CACN,cAEDN,KAAA,QAAKoC,SAAS,CAAC,+BAA+B,CAAAC,QAAA,eAC1CvC,IAAA,MAAGmD,IAAI,CAAC,GAAG,CAACb,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAC,aAAW,CAAG,CAAC,cACvEvC,IAAA,MAAGmD,IAAI,CAAC,GAAG,CAACb,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAC,iBAAe,CAAG,CAAC,EAC1E,CAAC,EACL,CAAC,CACJ,CAAC,EACN,CAAC,CAEd,CAAC,CAED,cAAe,CAAApC,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}